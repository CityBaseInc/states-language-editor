{"version":3,"sources":["store.js","Node.jsx","Control.jsx","parser.js","actions.js","editor.js","DagreD3React.js","Graph.js","Homepage.js","App.js","serviceWorker.js","index.js"],"names":["store","createStore","state","action","new_state","Object","objectSpread2","type","editor_graph","graph","d3_graph","states_language_graph","nodes","edges","MyNode","_Node","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this$props","props","node","bindSocket","bindControl","_this$state","outputs","controls","inputs","selected","react_default","a","createElement","className","concat","name","map","input","react_render_plugin_esm","socket","io","innerRef","showControl","control","output","Node","MyControl","_Rete$Control","emitter","_this","readonly","length","undefined","call","component","initial","data","onChange","v","setValue","trigger","placeholder","val","putData","update","Rete","Control","_ref","ref","addEventListener","e","stopPropagation","target","editor_d3","only_nodes","keys","filter","endsWith","it","id","label","flatMap","connections","reduce","acc","c","event","toString","next","target_id","get_node_index","source","push","get_event_name","get_node_outputs","get_node_edges","errors","events","split","n","trim","findIndex","SET_D3_GRAPH","doSetD3Graph","transition_socket","Socket","catch_socket","choice_socket","next_socket","TaskComponent","inp","Input","te","Output","ce","resource","editor","addInput","addOutput","addControl","Component","ChoiceComponent","cat_e","TransitionEventComponent","out","ctrl","CatchEventComponent","ChoiceEventComponent","DagreD3","nodeTree","nodeTreeGroup","width","height","onClick","useEffect","g","dagreD3","Graph","multigraph","setGraph","forEach","st","setNode","link","setEdge","join","rx","ry","svg","d3","inner","zoom","on","attr","transform","render","translate","scale","selectAll","elem","classList","remove","add","r","useSelector","DagreD3React","useStyles","makeStyles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","defineProperty","overflowX","spacing","breakpoints","up","appBarSpacer","content","overflow","container","paddingTop","paddingBottom","paper","flexDirection","fixedHeight","Homepage","classes","fixedHeightPaper","clsx","CssBaseline","AppBar","Toolbar","Typography","variant","color","noWrap","IconButton","Container","maxWidth","Grid","item","xs","md","lg","Paper","style","el","components","regenerator_default","async","_context2","prev","NodeEditor","use","ConnectionPlugin","ReactRenderPlugin","ContextMenuPlugin","AreaPlugin","register","_context","toJSON","dispatch","stop","fromJSON","view","resize","zoomAt","init","src_Graph","history","createBrowserHistory","App","react_router","path","Boolean","window","location","hostname","match","navigator","serviceWorker","ready","then","registration","unregister","ReactDOM","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6c3983cd.chunk.js","sourcesContent":["import { createStore } from 'redux';\n\nconst initialState = {\n  editor_graph: {},\n  d3_graph: { nodes: [], edges: [] },\n  states_language_graph: {},\n};\n\nfunction updateState(state, action) {\n  let new_state = { ...state };\n  switch (action.type) {\n    case 'SET_EDITOR_GRAPH':\n      new_state.editor_graph = action.graph;\n      break;\n    case 'SET_D3_GRAPH':\n      new_state.d3_graph = action.graph;\n      break;\n    case 'SET_STATES_LANGUAGE_GRAPH':\n      new_state.states_language_graph = action.graph;\n      break;\n    default:\n      break;\n  }\n  return new_state;\n}\n\nlet store = createStore(updateState, initialState);\n\nexport default store;\n","import React from 'react';\nimport { Node, Socket, Control } from 'rete-react-render-plugin';\n\nexport class MyNode extends Node {\n  render() {\n    const { node, bindSocket, bindControl } = this.props;\n    const { outputs, controls, inputs, selected } = this.state;\n    return (\n      <div className={`node ${selected} ${node.name}`}>\n        <div className=\"title\">{node.name}</div>\n        {/* Inputs */}\n        {inputs.map(input => (\n          <div className=\"input\" key={input.key}>\n            <Socket\n              type=\"input\"\n              socket={input.socket}\n              io={input}\n              innerRef={bindSocket}\n            />\n            {!input.showControl() && (\n              <div className=\"input-title\">{input.name}</div>\n            )}\n            {input.showControl() && (\n              <Control\n                className=\"input-control\"\n                control={input.control}\n                innerRef={bindControl}\n              />\n            )}\n          </div>\n        ))}\n        {/* Controls */}\n        {controls.map(control => (\n          <Control\n            className=\"control\"\n            key={control.key}\n            control={control}\n            innerRef={bindControl}\n          />\n        ))}\n        {/* Outputs */}\n        {outputs.map(output => (\n          <div className=\"output\" key={output.key}>\n            <div className=\"output-title\">{output.name}</div>\n            <Socket\n              type=\"output\"\n              socket={output.socket}\n              io={output}\n              innerRef={bindSocket}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Rete from 'rete';\n\nexport class MyControl extends Rete.Control {\n  static component = ({ value, onChange, placeholder }) => (\n    <input\n      value={value}\n      placeholder={placeholder}\n      ref={ref => {\n        ref && ref.addEventListener('pointerdown', e => e.stopPropagation());\n      }}\n      onChange={e => onChange(e.target.value)}\n    />\n  );\n\n  constructor(emitter, key, node, readonly = false) {\n    super(key);\n    this.emitter = emitter;\n    this.key = key;\n    this.component = MyControl.component;\n\n    const initial = node.data[key] || '';\n\n    node.data[key] = initial;\n    this.props = {\n      readonly,\n      value: initial,\n      onChange: v => {\n        this.setValue(v);\n        this.emitter.trigger('process');\n      },\n      placeholder: key\n    };\n  }\n\n  setValue(val) {\n    this.props.value = val;\n    this.putData(this.key, val);\n    this.update();\n  }\n}\n","export function editor_d3(graph) {\n  let n = Object.keys(graph.nodes).map(key => graph.nodes[key]);\n  let only_nodes = n.filter(node => !node.name.endsWith('Event'));\n  let it = 0;\n  let nodes = only_nodes.map(node => {\n    return { id: it++, label: node.name, name: node.data.name };\n  });\n\n  let edges = only_nodes.flatMap(node => get_node_edges(node, graph, nodes));\n  return { nodes: nodes, edges: edges };\n}\n\nfunction get_node_edges(node, graph, nodes) {\n  return Object.keys(node.outputs).flatMap(key =>\n    get_node_outputs(key, node, graph, nodes)\n  );\n}\n\nfunction get_node_outputs(key, node, graph, nodes) {\n  let conns = node.outputs[key].connections;\n  return conns.reduce((acc, c) => {\n    let event = graph.nodes[c.node.toString()];\n    if (event.outputs.next.connections.length > 0) {\n      let target_id = event.outputs.next.connections[0].node.toString();\n      let target = graph.nodes[target_id];\n      target = get_node_index(target.data.name, nodes);\n      let source = get_node_index(node.data.name, nodes);\n      acc.push({\n        source: source,\n        target: target,\n        type: get_event_name(event),\n      });\n    }\n    return acc;\n  }, []);\n}\n\nfunction get_event_name(event) {\n  var name = '';\n  if (event.data.errors) {\n    name = event.data.errors;\n  } else if (event.data.event) {\n    name = event.data.event;\n  } else if (event.data.events) {\n    name = event.data.events;\n  }\n\n  return name.split(',').map(n => n.trim());\n}\n\nfunction get_node_index(name, nodes) {\n  return nodes.findIndex(n => n.name === name);\n}\n","const SET_D3_GRAPH = 'SET_D3_GRAPH';\nconst SET_EDITOR_GRAPH = 'SET_EDITOR_GRAPH';\nconst SET_STATES_LANGUAGE_GRAPH = 'SET_STATES_LANGUAGE_GRAPH';\n\nexport function doSetD3Graph(graph) {\n  return { type: SET_D3_GRAPH, graph: graph };\n}\n\nexport function doSetEditorGraph(graph) {\n  return { type: SET_EDITOR_GRAPH, graph: graph };\n}\n\nexport function doSetStatesLanguageGraph(graph) {\n  return { type: SET_STATES_LANGUAGE_GRAPH, graph: graph };\n}\n","import Rete from 'rete';\nimport ReactRenderPlugin from 'rete-react-render-plugin';\nimport ConnectionPlugin from 'rete-connection-plugin';\nimport ContextMenuPlugin from 'rete-context-menu-plugin';\nimport AreaPlugin from 'rete-area-plugin';\nimport { MyNode } from './Node';\nimport { MyControl } from './Control';\nimport graph from './test.json';\nimport { editor_d3 } from './parser';\nimport { doSetD3Graph } from './actions';\nimport store from './store';\n\nvar transition_socket = new Rete.Socket('Transition Event');\nvar catch_socket = new Rete.Socket('Catch Event');\nvar choice_socket = new Rete.Socket('Choice Event');\nvar next_socket = new Rete.Socket('Next');\n\nclass TaskComponent extends Rete.Component {\n  constructor() {\n    super('Task');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('start', 'Start', next_socket, true);\n    var te = new Rete.Output(\n      'transition_event',\n      'Transition Event',\n      transition_socket\n    );\n    var ce = new Rete.Output('catch_events', 'Catch Events', catch_socket);\n    var resource = new MyControl(this.editor, 'resource', node);\n    var name = new MyControl(this.editor, 'name', node);\n    return node\n      .addInput(inp)\n      .addOutput(te)\n      .addOutput(ce)\n      .addControl(name)\n      .addControl(resource);\n  }\n}\n\nclass ChoiceComponent extends Rete.Component {\n  constructor() {\n    super('Choice');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('start', 'Start', next_socket, true);\n    var ce = new Rete.Output('choice_events', 'Choice Events', choice_socket);\n    var cat_e = new Rete.Output('catch_events', 'Catch Events', catch_socket);\n    var resource = new MyControl(this.editor, 'resource', node);\n    var name = new MyControl(this.editor, 'name', node);\n    return node\n      .addInput(inp)\n      .addOutput(ce)\n      .addOutput(cat_e)\n      .addControl(name)\n      .addControl(resource);\n  }\n}\n\nclass TransitionEventComponent extends Rete.Component {\n  constructor() {\n    super('TransitionEvent');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('event', '=', transition_socket, true);\n    var out = new Rete.Output('next', 'Next', next_socket);\n    var ctrl = new MyControl(this.editor, 'event', node);\n    return node\n      .addInput(inp)\n      .addOutput(out)\n      .addControl(ctrl);\n  }\n}\n\nclass CatchEventComponent extends Rete.Component {\n  constructor() {\n    super('CatchEvent');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('event', '=', catch_socket, true);\n    var out = new Rete.Output('next', 'Next', next_socket);\n    var ctrl = new MyControl(this.editor, 'errors', node);\n    return node\n      .addInput(inp)\n      .addOutput(out)\n      .addControl(ctrl);\n  }\n}\n\nclass ChoiceEventComponent extends Rete.Component {\n  constructor() {\n    super('ChoiceEvent');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('event', '=', choice_socket);\n    var out = new Rete.Output('next', 'Next', next_socket);\n    var ctrl = new MyControl(this.editor, 'events', node);\n    return node\n      .addInput(inp)\n      .addOutput(out)\n      .addControl(ctrl);\n  }\n}\n\nexport default async function(container) {\n  var components = [\n    new TaskComponent(),\n    new ChoiceComponent(),\n    new ChoiceEventComponent(),\n    new CatchEventComponent(),\n    new TransitionEventComponent(),\n  ];\n\n  var editor = new Rete.NodeEditor('states-language@0.1.0', container);\n  editor.use(ConnectionPlugin);\n  editor.use(ReactRenderPlugin, { component: MyNode });\n  editor.use(ContextMenuPlugin);\n  editor.use(AreaPlugin);\n\n  components.map(c => editor.register(c));\n  editor.on(\n    'process nodecreated noderemoved connectioncreated connectionremoved',\n    async () => {\n      let graph = editor.toJSON();\n      let d3_graph = editor_d3(graph);\n      store.dispatch(doSetD3Graph(d3_graph));\n    }\n  );\n\n  editor.fromJSON(graph);\n\n  editor.view.resize();\n  AreaPlugin.zoomAt(editor);\n  editor.trigger('process');\n}\n","import React, { useEffect } from 'react';\nimport * as dagreD3 from 'dagre-d3';\nimport * as d3 from 'd3';\n\nfunction DagreD3({ width, height, edges, nodes, onClick }) {\n  let nodeTree, nodeTreeGroup;\n\n  useEffect(() => {\n    let g = new dagreD3.graphlib.Graph({ multigraph: true }).setGraph({});\n    nodes.forEach(function(st) {\n      g.setNode(st.name, { label: st.name });\n    });\n    edges.forEach(link => {\n      let name =\n        nodes[link.source].name +\n        '-' +\n        nodes[link.target].name +\n        '-' +\n        link.type;\n      g.setEdge(\n        nodes[link.source].name,\n        nodes[link.target].name,\n        { label: link.type.join(',') },\n        name\n      );\n    });\n\n    g.nodes().forEach(function(v) {\n      var node = g.node(v);\n      node.rx = node.ry = 5;\n    });\n\n    // Set up an SVG group so that we can translate the final graph.\n    let svg = d3.select(nodeTree);\n    let inner = d3.select(nodeTreeGroup);\n\n    var zoom = d3.zoom().on('zoom', function() {\n      inner.attr('transform', d3.event.transform);\n    });\n    svg.call(zoom);\n\n    var render = new dagreD3.render();\n\n    render(inner, g);\n\n    var initialScale = 0.8;\n    svg.call(\n      zoom.transform,\n      d3.zoomIdentity\n        .translate((svg.attr('width') - g.graph().width * initialScale) / 2, 20)\n        .scale(initialScale)\n    );\n\n    svg.attr('height', g.graph().height * initialScale + 20);\n\n    svg.selectAll('.dagre-d3 .node').on('click', id => {\n      g.nodes().forEach(v => g.node(v).elem.classList.remove('selected'));\n      g.node(id).elem.classList.add('selected');\n    });\n  }, [edges, nodes, nodeTree, nodeTreeGroup, onClick]);\n\n  return (\n    <svg\n      className=\"dagre-d3\"\n      ref={r => (nodeTree = r)}\n      width={width}\n      height={height}\n    >\n      <g ref={r => (nodeTreeGroup = r)} />\n    </svg>\n  );\n}\n\nexport default DagreD3;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport DagreD3 from './DagreD3React';\n\nfunction Graph() {\n  const graph = useSelector(state => state.d3_graph);\n\n  return (\n    <div>\n      <DagreD3\n        edges={graph.edges}\n        nodes={graph.nodes}\n        width=\"300\"\n        height=\"100\"\n      />\n    </div>\n  );\n}\n\nexport default Graph;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport init from './editor';\nimport Graph from './Graph';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  fixedHeight: {\n    height: '90vh',\n  },\n}));\n\nfunction Homepage() {\n  const classes = useStyles();\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"absolute\" className={clsx(classes.appBar)}>\n        <Toolbar className={classes.toolbar}>\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            States Language Editor\n          </Typography>\n          <IconButton color=\"inherit\"></IconButton>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        <Container maxWidth=\"xl\" className={classes.container}>\n          <Grid container spacing={3}>\n            <Grid item xs={12} md={8} lg={8}>\n              <Paper className={fixedHeightPaper}>\n                <div\n                  style={{ width: '100vw', height: '90vh' }}\n                  ref={el => init(el)}\n                />\n              </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={4}>\n              <Paper className={fixedHeightPaper}>\n                <Graph />\n              </Paper>\n            </Grid>\n            <Grid item xs={12}>\n              <Paper className={classes.paper}></Paper>\n            </Grid>\n          </Grid>\n        </Container>\n      </main>\n    </div>\n  );\n}\n\nexport default Homepage;\n","import React from 'react';\nimport Homepage from './Homepage.js';\nimport { Switch, Route, Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();\n\nconst App = () => (\n  <div className=\"App\">\n    <Router history={history}>\n      <Switch>\n        <Route path=\"/\" component={Homepage} />\n        <Route path=\"/states-language-editor\" component={Homepage} />\n      </Switch>\n    </Router>\n  </div>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './styles.css';\n\nconst do_render = () =>\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n  );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\ndo_render();\n"],"sourceRoot":""}