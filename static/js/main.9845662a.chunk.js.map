{"version":3,"sources":["store.js","Node.jsx","Control.jsx","parser.js","actions.js","editor.js","DagreD3React.js","Graph.js","JSONDisplay.js","Homepage.js","App.js","serviceWorker.js","index.js"],"names":["store","createStore","state","action","new_state","Object","objectSpread2","type","editor_graph","graph","d3_graph","states_language_graph","nodes","edges","MyNode","_Node","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this$props","props","node","bindSocket","bindControl","_this$state","outputs","controls","inputs","selected","react_default","a","createElement","className","concat","name","map","input","react_render_plugin_esm","socket","io","innerRef","showControl","control","output","Node","MyControl","_Rete$Control","emitter","_this","readonly","length","undefined","call","component","initial","data","onChange","v","setValue","trigger","placeholder","val","putData","update","Rete","Control","_ref","ref","addEventListener","e","stopPropagation","target","to_states_language","reduce","acc","next","get_transition_event","t_e","join","choices","get_choices","choice","StringEquals","Next","catches","get_catches","cat","ErrorEquals","Type","Resource","resource","TransitionEvent","Choices","Catch","filter","edge","is_catch_event","source","catch_events","is_choice_event","choice_events","find","is_trans_event","transition_event","graph_list","keys","graph_states","endsWith","graph_edges","flatMap","get_node_edges","to_d3_nodes","state_nodes","i","id","label","connections","c","event","toString","target_id","push","get_event_name","get_node_outputs","to_d3_edges","get_node_index","editor_states_language","n","state_edges","StartAt","States","editor_d3","errors","events","split","trim","findIndex","SET_D3_GRAPH","SET_STATES_LANGUAGE_GRAPH","doSetD3Graph","doSetStatesLanguageGraph","transition_socket","Socket","catch_socket","choice_socket","next_socket","TaskComponent","inp","Input","te","Output","ce","editor","addInput","addOutput","addControl","Component","ChoiceComponent","cat_e","TransitionEventComponent","out","ctrl","CatchEventComponent","ChoiceEventComponent","DagreD3","nodeTree","nodeTreeGroup","width","height","onClick","useEffect","g","dagreD3","Graph","multigraph","setGraph","forEach","st","setNode","link","setEdge","rx","ry","svg","d3","inner","zoom","on","attr","transform","render","translate","scale","selectAll","elem","classList","remove","add","r","useSelector","DagreD3React","JSONDisplay","JSON","stringify","useStyles","makeStyles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","defineProperty","overflowX","spacing","breakpoints","up","appBarSpacer","content","overflow","container","paddingTop","paddingBottom","paper","flexDirection","fixedHeight","Homepage","classes","fixedHeightPaper","clsx","CssBaseline","AppBar","Toolbar","Typography","variant","color","noWrap","IconButton","Container","maxWidth","Grid","item","xs","md","lg","Paper","el","components","regenerator_default","async","_context2","prev","NodeEditor","use","ConnectionPlugin","ReactRenderPlugin","ContextMenuPlugin","AreaPlugin","MinimapPlugin","register","_context","console","log","toJSON","dispatch","stop","fromJSON","view","resize","setTimeout","zoomAt","init","src_Graph","src_JSONDisplay","history","createBrowserHistory","App","react_router","path","Boolean","window","location","hostname","match","navigator","serviceWorker","ready","then","registration","unregister","ReactDOM","es","src_App","document","getElementById"],"mappings":"8mEA0BA,IAEeA,EAFHC,YAlBZ,SAAqBC,EAAOC,GAC1B,IAAIC,EAASC,OAAAC,EAAA,EAAAD,CAAA,GAAQH,GACrB,OAAQC,EAAOI,MACb,IAAK,mBACHH,EAAUI,aAAeL,EAAOM,MAChC,MACF,IAAK,eACHL,EAAUM,SAAWP,EAAOM,MAC5B,MACF,IAAK,4BACHL,EAAUO,sBAAwBR,EAAOM,MAK7C,OAAOL,GArBY,CACnBI,aAAc,GACdE,SAAU,CAAEE,MAAO,GAAIC,MAAO,IAC9BF,sBAAuB,yNCFZG,EAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAT,OAAAW,EAAA,EAAAX,CAAAY,KAAAH,GAAAT,OAAAa,EAAA,EAAAb,CAAAY,KAAAZ,OAAAc,EAAA,EAAAd,CAAAS,GAAAM,MAAAH,KAAAI,YAAA,OAAAhB,OAAAiB,EAAA,EAAAjB,CAAAS,EAAAC,GAAAV,OAAAkB,EAAA,EAAAlB,CAAAS,EAAA,EAAAU,IAAA,SAAAC,MAAA,WACW,IAAAC,EACmCT,KAAKU,MAAvCC,EADDF,EACCE,KAAMC,EADPH,EACOG,WAAYC,EADnBJ,EACmBI,YADnBC,EAEyCd,KAAKf,MAA7C8B,EAFDD,EAECC,QAASC,EAFVF,EAEUE,SAAUC,EAFpBH,EAEoBG,OAAQC,EAF5BJ,EAE4BI,SACnC,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAS,QAAAC,OAAUL,EAAV,KAAAK,OAAsBZ,EAAKa,OACvCL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASX,EAAKa,MAE5BP,EAAOQ,IAAI,SAAAC,GAAK,OACfP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQf,IAAKmB,EAAMnB,KAChCY,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACErC,KAAK,QACLsC,OAAQF,EAAME,OACdC,GAAIH,EACJI,SAAUlB,KAEVc,EAAMK,eACNZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAeI,EAAMF,MAErCE,EAAMK,eACLZ,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACEL,UAAU,gBACVU,QAASN,EAAMM,QACfF,SAAUjB,OAMjBG,EAASS,IAAI,SAAAO,GAAO,OACnBb,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACEL,UAAU,UACVf,IAAKyB,EAAQzB,IACbyB,QAASA,EACTF,SAAUjB,MAIbE,EAAQU,IAAI,SAAAQ,GAAM,OACjBd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASf,IAAK0B,EAAO1B,KAClCY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAgBW,EAAOT,MACtCL,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACErC,KAAK,SACLsC,OAAQK,EAAOL,OACfC,GAAII,EACJH,SAAUlB,YA7CxBf,EAAA,CAA4BqC,KCAfC,EAAb,SAAAC,GAYE,SAAAD,EAAYE,EAAS9B,EAAKI,GAAwB,IAAA2B,EAAlBC,EAAkBnC,UAAAoC,OAAA,QAAAC,IAAArC,UAAA,IAAAA,UAAA,GAAAhB,OAAAW,EAAA,EAAAX,CAAAY,KAAAmC,IAChDG,EAAAlD,OAAAa,EAAA,EAAAb,CAAAY,KAAAZ,OAAAc,EAAA,EAAAd,CAAA+C,GAAAO,KAAA1C,KAAMO,KACD8B,QAAUA,EACfC,EAAK/B,IAAMA,EACX+B,EAAKK,UAAYR,EAAUQ,UAE3B,IAAMC,EAAUjC,EAAKkC,KAAKtC,IAAQ,GANc,OAQhDI,EAAKkC,KAAKtC,GAAOqC,EACjBN,EAAK5B,MAAQ,CACX6B,WACA/B,MAAOoC,EACPE,SAAU,SAAAC,GACRT,EAAKU,SAASD,GACdT,EAAKD,QAAQY,QAAQ,YAEvBC,YAAa3C,GAhBiC+B,EAZpD,OAAAlD,OAAAiB,EAAA,EAAAjB,CAAA+C,EAAAC,GAAAhD,OAAAkB,EAAA,EAAAlB,CAAA+C,EAAA,EAAA5B,IAAA,WAAAC,MAAA,SAgCW2C,GACPnD,KAAKU,MAAMF,MAAQ2C,EACnBnD,KAAKoD,QAAQpD,KAAKO,IAAK4C,GACvBnD,KAAKqD,aAnCTlB,EAAA,CAA+BmB,IAAKC,SAAvBpB,EACJQ,UAAY,SAAAa,GAAA,IAAGhD,EAAHgD,EAAGhD,MAAOsC,EAAVU,EAAUV,SAAUI,EAApBM,EAAoBN,YAApB,OACjB/B,EAAAC,EAAAC,cAAA,SACEb,MAAOA,EACP0C,YAAaA,EACbO,IAAK,SAAAA,GACHA,GAAOA,EAAIC,iBAAiB,cAAe,SAAAC,GAAC,OAAIA,EAAEC,qBAEpDd,SAAU,SAAAa,GAAC,OAAIb,EAASa,EAAEE,OAAOrD,wBCXjCsD,EAAqB,SAACnE,EAAOC,GACjC,OAAOD,EAAMoE,OAAO,SAACC,EAAKrD,GACxB,IAAIsD,EAAOC,EAAqBvD,EAAMf,GAClCuE,EAAMF,EAAOA,EAAK3E,KAAK8E,KAAK,KAAO,GACnCC,EAAUC,EAAY3D,EAAMf,GAAO6B,IAAI,SAAA8C,GAAM,MAAK,CACpDC,aAAcD,EAAOjF,KACrBmF,KAAMF,EAAOV,OAAOhB,KAAKrB,QAEvBkD,EAAUC,EAAYhE,EAAMf,GAAO6B,IAAI,SAAAmD,GAAG,MAAK,CACjDC,YAAaD,EAAItF,KACjBmF,KAAMG,EAAIf,OAAOhB,KAAKrB,QAWxB,OARAwC,EAAIrD,EAAKkC,KAAKrB,MAAQ,CACpBsD,KAAMnE,EAAKa,KACXuD,SAAUpE,EAAKkC,KAAKmC,SACpBC,gBAAiBd,EACjBe,QAASb,EACTc,MAAOT,EACPD,KAAMR,EAAOA,EAAKJ,OAAOhB,KAAKrB,KAAO,IAEhCwC,GACN,KAGCW,EAAc,SAAChE,EAAMf,GAAP,OAClBA,EAAMwF,OAAO,SAAAC,GAAI,OAAIC,EAAeD,EAAM1E,MAEtC2E,EAAiB,SAACD,EAAM1E,GAAP,OACrB0E,EAAKE,OAAO1C,KAAKrB,OAASb,EAAKkC,KAAKrB,MAAQ6D,EAAKE,OAAOxE,QAAQyE,cAE5DlB,EAAc,SAAC3D,EAAMf,GAAP,OAClBA,EAAMwF,OAAO,SAAAC,GAAI,OAAII,EAAgBJ,EAAM1E,MAEvC8E,EAAkB,SAACJ,EAAM1E,GAAP,OACtB0E,EAAKE,OAAO1C,KAAKrB,OAASb,EAAKkC,KAAKrB,MAAQ6D,EAAKE,OAAOxE,QAAQ2E,eAE5DxB,EAAuB,SAACvD,EAAMf,GAAP,OAC3BA,EAAM+F,KAAK,SAAAN,GAAI,OAAIO,EAAeP,EAAM1E,MAEpCiF,EAAiB,SAACP,EAAM1E,GAAP,OACrB0E,EAAKE,OAAO1C,KAAKrB,OAASb,EAAKkC,KAAKrB,MACpC6D,EAAKE,OAAOxE,QAAQ8E,kBAEhBC,EAAa,SAAAtG,GAAK,OACtBJ,OAAO2G,KAAKvG,EAAMG,OAAO8B,IAAI,SAAAlB,GAAG,OAAIf,EAAMG,MAAMY,MAE5CyF,EAAe,SAAAF,GAAU,OAC7BA,EAAWV,OAAO,SAAAzE,GAAI,OAAKA,EAAKa,KAAKyE,SAAS,YAE1CC,EAAc,SAACF,EAAcxG,GAAf,OAClBwG,EAAaG,QAAQ,SAAAxF,GAAI,OAAIyF,EAAezF,EAAMnB,MAE9C6G,EAAc,SAACC,GAAD,IAAcC,EAAdnG,UAAAoC,OAAA,QAAAC,IAAArC,UAAA,GAAAA,UAAA,GAAkB,EAAlB,OAClBkG,EAAY7E,IAAI,SAAAd,GACd,MAAO,CAAE6F,GAAID,IAAKE,MAAO9F,EAAKa,KAAMA,KAAMb,EAAKkC,KAAKrB,SAGlD4E,EAAiB,SAACzF,EAAMnB,EAAOG,GAAd,OACrBP,OAAO2G,KAAKpF,EAAKI,SAASoF,QAAQ,SAAA5F,GAAG,OAkCvC,SAA0BA,EAAKI,EAAMnB,GAEnC,OADYmB,EAAKI,QAAQR,GAAKmG,YACjB3C,OAAO,SAACC,EAAK2C,GACxB,IAAIC,EAAQpH,EAAMG,MAAMgH,EAAEhG,KAAKkG,YAC/B,GAAID,EAAM7F,QAAQkD,KAAKyC,YAAYlE,OAAS,EAAG,CAC7C,IAAIsE,EAAYF,EAAM7F,QAAQkD,KAAKyC,YAAY,GAAG/F,KAAKkG,WACnDhD,EAASrE,EAAMG,MAAMmH,GACzB9C,EAAI+C,KAAK,CACPxB,OAAQ5E,EACRkD,OAAQA,EACRvE,KAAM0H,GAAeJ,KAGzB,OAAO5C,GACN,IA/CDiD,CAAiB1G,EAAKI,EAAMnB,MAG1B0H,EAAc,SAAChB,EAAavG,GAAd,OAClBuG,EAAYzE,IAAI,SAAA4D,GACd,IAAIxB,EAASsD,GAAe9B,EAAKxB,OAAOhB,KAAKrB,KAAM7B,GAEnD,MAAO,CACL4F,OAFW4B,GAAe9B,EAAKE,OAAO1C,KAAKrB,KAAM7B,GAGjDkE,OAAQA,EACRvE,KAAM+F,EAAK/F,SAIV,SAAS8H,EAAuB5H,GACrC,IAAI6H,EAAIvB,EAAWtG,GACf8G,EAAcN,EAAaqB,GAC3BC,EAAcpB,EAAYI,EAAa9G,GAC3C,MAAO,CACL+H,QAAS,OACTC,OAAQ1D,EAAmBwC,EAAagB,IAIrC,SAASG,EAAUjI,GACxB,IAAI6H,EAAIvB,EAAWtG,GACf8G,EAAcN,EAAaqB,GAC3B1H,EAAQ0G,EAAYC,GACpBgB,EAAcpB,EAAYI,EAAa9G,GAE3C,MAAO,CAAEG,MAAOA,EAAOC,MADXsH,EAAYI,EAAa3H,IAqBvC,SAASqH,GAAeJ,GACtB,IAAIpF,EAAO,GASX,OARIoF,EAAM/D,KAAK6E,OACblG,EAAOoF,EAAM/D,KAAK6E,OACTd,EAAM/D,KAAK+D,MACpBpF,EAAOoF,EAAM/D,KAAK+D,MACTA,EAAM/D,KAAK8E,SACpBnG,EAAOoF,EAAM/D,KAAK8E,QAGbnG,EAAKoG,MAAM,KAAKnG,IAAI,SAAA4F,GAAC,OAAIA,EAAEQ,SAGpC,SAASV,GAAe3F,EAAM7B,GAC5B,OAAOA,EAAMmI,UAAU,SAAAT,GAAC,OAAIA,EAAE7F,OAASA,IC5HzC,IAAMuG,GAAe,eAEfC,GAA4B,4BAE3B,SAASC,GAAazI,GAC3B,MAAO,CAAEF,KAAMyI,GAAcvI,MAAOA,GAO/B,SAAS0I,GAAyB1I,GACvC,MAAO,CAAEF,KAAM0I,GAA2BxI,MAAOA,GCAnD,IAAI2I,GAAoB,IAAI7E,IAAK8E,OAAO,oBACpCC,GAAe,IAAI/E,IAAK8E,OAAO,eAC/BE,GAAgB,IAAIhF,IAAK8E,OAAO,gBAChCG,GAAc,IAAIjF,IAAK8E,OAAO,QAE5BI,eACJ,SAAAA,IAAe,OAAApJ,OAAAW,EAAA,EAAAX,CAAAY,KAAAwI,GAAApJ,OAAAa,EAAA,EAAAb,CAAAY,KAAAZ,OAAAc,EAAA,EAAAd,CAAAoJ,GAAA9F,KAAA1C,KACP,8EAGAW,GACN,IAAI8H,EAAM,IAAInF,IAAKoF,MAAM,QAAS,QAASH,IAAa,GACpDI,EAAK,IAAIrF,IAAKsF,OAChB,mBACA,mBACAT,IAEEU,EAAK,IAAIvF,IAAKsF,OAAO,eAAgB,eAAgBP,IACrDrD,EAAW,IAAI7C,EAAUnC,KAAK8I,OAAQ,WAAYnI,GAClDa,EAAO,IAAIW,EAAUnC,KAAK8I,OAAQ,OAAQnI,GAC9C,OAAOA,EACJoI,SAASN,GACTO,UAAUL,GACVK,UAAUH,GACVI,WAAWzH,GACXyH,WAAWjE,UApBU1B,IAAK4F,WAwB3BC,eACJ,SAAAA,IAAe,OAAA/J,OAAAW,EAAA,EAAAX,CAAAY,KAAAmJ,GAAA/J,OAAAa,EAAA,EAAAb,CAAAY,KAAAZ,OAAAc,EAAA,EAAAd,CAAA+J,GAAAzG,KAAA1C,KACP,gFAGAW,GACN,IAAI8H,EAAM,IAAInF,IAAKoF,MAAM,QAAS,QAASH,IAAa,GACpDM,EAAK,IAAIvF,IAAKsF,OAAO,gBAAiB,gBAAiBN,IACvDc,EAAQ,IAAI9F,IAAKsF,OAAO,eAAgB,eAAgBP,IACxDrD,EAAW,IAAI7C,EAAUnC,KAAK8I,OAAQ,WAAYnI,GAClDa,EAAO,IAAIW,EAAUnC,KAAK8I,OAAQ,OAAQnI,GAC9C,OAAOA,EACJoI,SAASN,GACTO,UAAUH,GACVG,UAAUI,GACVH,WAAWzH,GACXyH,WAAWjE,UAhBY1B,IAAK4F,WAoB7BG,eACJ,SAAAA,IAAe,OAAAjK,OAAAW,EAAA,EAAAX,CAAAY,KAAAqJ,GAAAjK,OAAAa,EAAA,EAAAb,CAAAY,KAAAZ,OAAAc,EAAA,EAAAd,CAAAiK,GAAA3G,KAAA1C,KACP,yFAGAW,GACN,IAAI8H,EAAM,IAAInF,IAAKoF,MAAM,QAAS,IAAKP,IAAmB,GACtDmB,EAAM,IAAIhG,IAAKsF,OAAO,OAAQ,OAAQL,IACtCgB,EAAO,IAAIpH,EAAUnC,KAAK8I,OAAQ,QAASnI,GAC/C,OAAOA,EACJoI,SAASN,GACTO,UAAUM,GACVL,WAAWM,UAZqBjG,IAAK4F,WAgBtCM,eACJ,SAAAA,IAAe,OAAApK,OAAAW,EAAA,EAAAX,CAAAY,KAAAwJ,GAAApK,OAAAa,EAAA,EAAAb,CAAAY,KAAAZ,OAAAc,EAAA,EAAAd,CAAAoK,GAAA9G,KAAA1C,KACP,oFAGAW,GACN,IAAI8H,EAAM,IAAInF,IAAKoF,MAAM,QAAS,IAAKL,IAAc,GACjDiB,EAAM,IAAIhG,IAAKsF,OAAO,OAAQ,OAAQL,IACtCgB,EAAO,IAAIpH,EAAUnC,KAAK8I,OAAQ,SAAUnI,GAChD,OAAOA,EACJoI,SAASN,GACTO,UAAUM,GACVL,WAAWM,UAZgBjG,IAAK4F,WAgBjCO,eACJ,SAAAA,IAAe,OAAArK,OAAAW,EAAA,EAAAX,CAAAY,KAAAyJ,GAAArK,OAAAa,EAAA,EAAAb,CAAAY,KAAAZ,OAAAc,EAAA,EAAAd,CAAAqK,GAAA/G,KAAA1C,KACP,qFAGAW,GACN,IAAI8H,EAAM,IAAInF,IAAKoF,MAAM,QAAS,IAAKJ,IACnCgB,EAAM,IAAIhG,IAAKsF,OAAO,OAAQ,OAAQL,IACtCgB,EAAO,IAAIpH,EAAUnC,KAAK8I,OAAQ,SAAUnI,GAChD,OAAOA,EACJoI,SAASN,GACTO,UAAUM,GACVL,WAAWM,UAZiBjG,IAAK4F,kCCrBzBQ,OArEf,SAAAlG,GAA2D,IACrDmG,EAAUC,EADGC,EAAwCrG,EAAxCqG,MAAOC,EAAiCtG,EAAjCsG,OAAQlK,EAAyB4D,EAAzB5D,MAAOD,EAAkB6D,EAAlB7D,MAAOoK,EAAWvG,EAAXuG,QAyD9C,OAtDAC,oBAAU,WACR,IAAIC,EAAI,IAAIC,YAAiBC,MAAM,CAAEC,YAAY,IAAQC,SAAS,IAClE1K,EAAM2K,QAAQ,SAASC,GACrBN,EAAEO,QAAQD,EAAG/I,KAAM,CAAEiF,MAAO8D,EAAG/I,SAEjC5B,EAAM0K,QAAQ,SAAAG,GACZ,IAAIjJ,EACF7B,EAAM8K,EAAKlF,QAAQ/D,KACnB,IACA7B,EAAM8K,EAAK5G,QAAQrC,KACnB,IACAiJ,EAAKnL,KACP2K,EAAES,QACA/K,EAAM8K,EAAKlF,QAAQ/D,KACnB7B,EAAM8K,EAAK5G,QAAQrC,KACnB,CAAEiF,MAAOgE,EAAKnL,KAAK8E,KAAK,MACxB5C,KAIJyI,EAAEtK,QAAQ2K,QAAQ,SAASvH,GACzB,IAAIpC,EAAOsJ,EAAEtJ,KAAKoC,GAClBpC,EAAKgK,GAAKhK,EAAKiK,GAAK,IAItB,IAAIC,EAAMC,UAAUnB,GAChBoB,EAAQD,UAAUlB,GAElBoB,EAAOF,UAAUG,GAAG,OAAQ,WAC9BF,EAAMG,KAAK,YAAaJ,SAASK,aAEnCN,EAAInI,KAAKsI,IAEI,IAAId,UAEjBkB,CAAOL,EAAOd,GAGdY,EAAInI,KACFsI,EAAKG,UACLL,gBACGO,WAAWR,EAAIK,KAAK,SAJN,GAIiBjB,EAAEzK,QAAQqK,OAAwB,EAAG,IACpEyB,MALc,KAQnBT,EAAIK,KAAK,SARU,GAQAjB,EAAEzK,QAAQsK,OAAwB,IAErDe,EAAIU,UAAU,mBAAmBN,GAAG,QAAS,SAAAzE,GAC3CyD,EAAEtK,QAAQ2K,QAAQ,SAAAvH,GAAC,OAAIkH,EAAEtJ,KAAKoC,GAAGyI,KAAKC,UAAUC,OAAO,cACvDzB,EAAEtJ,KAAK6F,GAAIgF,KAAKC,UAAUE,IAAI,eAE/B,CAAC/L,EAAOD,EAAOgK,EAAUC,EAAeG,IAGzC5I,EAAAC,EAAAC,cAAA,OACEC,UAAU,WACVmC,IAAK,SAAAmI,GAAC,OAAKjC,EAAWiC,GACtB/B,MAAOA,EACPC,OAAQA,GAER3I,EAAAC,EAAAC,cAAA,KAAGoC,IAAK,SAAAmI,GAAC,OAAKhC,EAAgBgC,OCjDrBzB,OAff,WACE,IAAM3K,EAAQqM,YAAY,SAAA5M,GAAK,OAAIA,EAAMQ,WAEzC,OACE0B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyK,GAAD,CACElM,MAAOJ,EAAMI,MACbD,MAAOH,EAAMG,MACbkK,MAAM,MACNC,OAAO,UCLAiC,OALf,WACE,IAAMvM,EAAQqM,YAAY,SAAA5M,GAAK,OAAIA,EAAMS,wBACzC,OAAOyB,EAAAC,EAAAC,cAAA,WAAM2K,KAAKC,UAAUzM,EAAO,KAAM,KCYrC0M,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,QAAS,QAEXC,QAAS,CACPC,aAAc,IAEhBC,YAAYrN,OAAAC,EAAA,EAAAD,CAAA,CACVkN,QAAS,OACTI,WAAY,SACZC,eAAgB,WAChBC,QAAS,SACNR,EAAMS,OAAON,SAElBO,OAAQ,CACNC,OAAQX,EAAMW,OAAOC,OAAS,EAC9BC,WAAYb,EAAMc,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQhB,EAAMc,YAAYE,OAAOC,MACjCC,SAAUlB,EAAMc,YAAYI,SAASC,iBAGzCC,YAAa,CACXC,WAxBgB,IAyBhB5D,MAAK,eAAAtI,OAzBW,IAyBX,OACL0L,WAAYb,EAAMc,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQhB,EAAMc,YAAYE,OAAOC,MACjCC,SAAUlB,EAAMc,YAAYI,SAASI,kBAGzCC,WAAY,CACVC,YAAa,IAEfC,iBAAkB,CAChBvB,QAAS,QAEXwB,MAAO,CACLC,SAAU,GAEZC,YAAa,CACXC,SAAU,WACVC,WAAY,SACZrE,MA3CgB,IA4ChBoD,WAAYb,EAAMc,YAAYC,OAAO,QAAS,CAC5CC,OAAQhB,EAAMc,YAAYE,OAAOC,MACjCC,SAAUlB,EAAMc,YAAYI,SAASI,kBAGzCS,iBAAiB/O,OAAAgP,EAAA,EAAAhP,CAAA,CACfiP,UAAW,SACXpB,WAAYb,EAAMc,YAAYC,OAAO,QAAS,CAC5CC,OAAQhB,EAAMc,YAAYE,OAAOC,MACjCC,SAAUlB,EAAMc,YAAYI,SAASC,gBAEvC1D,MAAOuC,EAAMkC,QAAQ,IACpBlC,EAAMmC,YAAYC,GAAG,MAAQ,CAC5B3E,MAAOuC,EAAMkC,QAAQ,KAGzBG,aAAcrC,EAAMS,OAAON,QAC3BmC,QAAS,CACPX,SAAU,EACVjE,OAAQ,QACR6E,SAAU,QAEZC,UAAW,CACTC,WAAYzC,EAAMkC,QAAQ,GAC1BQ,cAAe1C,EAAMkC,QAAQ,IAE/BS,MAAO,CACLnC,QAASR,EAAMkC,QAAQ,GACvBhC,QAAS,OACTqC,SAAU,OACVK,cAAe,UAEjBC,YAAa,CACXnF,OAAQ,WAkDGoF,OA9Cf,WACE,IAAMC,EAAUjD,KACVkD,EAAmBC,YAAKF,EAAQJ,MAAOI,EAAQF,aACrD,OACE9N,EAAAC,EAAAC,cAAA,OAAKC,UAAW6N,EAAQ9C,MACtBlL,EAAAC,EAAAC,cAACiO,EAAA,EAAD,MACAnO,EAAAC,EAAAC,cAACkO,EAAA,EAAD,CAAQtB,SAAS,WAAW3M,UAAW+N,YAAKF,EAAQrC,SAClD3L,EAAAC,EAAAC,cAACmO,EAAA,EAAD,CAASlO,UAAW6N,EAAQ5C,SAC1BpL,EAAAC,EAAAC,cAACoO,EAAA,EAAD,CACE9M,UAAU,KACV+M,QAAQ,KACRC,MAAM,UACNC,QAAM,EACNtO,UAAW6N,EAAQrB,OALrB,0BASA3M,EAAAC,EAAAC,cAACwO,EAAA,EAAD,CAAYF,MAAM,cAGtBxO,EAAAC,EAAAC,cAAA,QAAMC,UAAW6N,EAAQT,SACvBvN,EAAAC,EAAAC,cAAA,OAAKC,UAAW6N,EAAQV,eACxBtN,EAAAC,EAAAC,cAACyO,EAAA,EAAD,CAAWC,SAAS,KAAKzO,UAAW6N,EAAQP,WAC1CzN,EAAAC,EAAAC,cAAC2O,EAAA,EAAD,CAAMpB,WAAS,EAACN,QAAS,GACvBnN,EAAAC,EAAAC,cAAC2O,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC5BjP,EAAAC,EAAAC,cAACgP,EAAA,EAAD,CAAO/O,UAAW8N,GAChBjO,EAAAC,EAAAC,cAAA,OAAKoC,IAAK,SAAA6M,GAAE,OJZb,SAAe1B,GAAf,IAAA2B,EAAAzH,EAAA,OAAA0H,EAAApP,EAAAqP,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAzM,MAAA,OACTsM,EAAa,CACf,IAAI/H,GACJ,IAAIW,GACJ,IAAIM,GACJ,IAAID,GACJ,IAAIH,KAGFP,EAAS,IAAIxF,IAAKsN,WAAW,wBAAyBhC,IACnDiC,IAAIC,KACXhI,EAAO+H,IAAIE,IAAmB,CAAEpO,UAAW9C,IAC3CiJ,EAAO+H,IAAIG,KACXlI,EAAO+H,IAAII,KACXnI,EAAO+H,IAAIK,KAEXX,EAAW9O,IAAI,SAAAkF,GAAC,OAAImC,EAAOqI,SAASxK,KACpCmC,EAAOmC,GACL,sEACA,eAAAzL,EAAAC,EAAAC,EAAA,OAAA8Q,EAAApP,EAAAqP,MAAA,SAAAW,GAAA,cAAAA,EAAAT,KAAAS,EAAAnN,MAAA,OACEoN,QAAQC,IAAI,eACR9R,EAAQsJ,EAAOyI,SACf9R,EAAWgI,EAAUjI,GACrBE,EAAwB0H,EAAuB5H,GACnDT,EAAMyS,SAASvJ,GAAaxI,IAC5BV,EAAMyS,SAAStJ,GAAyBxI,IAN1C,wBAAA0R,EAAAK,YAUF3I,EAAO4I,SAASlS,GAChBsJ,EAAO6I,KAAKC,SACZ9I,EAAO7F,QAAQ,WACf4O,WAAW,WACTZ,IAAWa,OAAOhJ,IACjB,KAlCU,yBAAA4H,EAAAe,UIYiBM,CAAKzB,QAGzBnP,EAAAC,EAAAC,cAAC2O,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC5BjP,EAAAC,EAAAC,cAACgP,EAAA,EAAD,CAAO/O,UAAW8N,GAChBjO,EAAAC,EAAAC,cAAC2Q,GAAD,QAGJ7Q,EAAAC,EAAAC,cAAC2O,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACb/O,EAAAC,EAAAC,cAACgP,EAAA,EAAD,CAAO/O,UAAW6N,EAAQJ,OACxB5N,EAAAC,EAAAC,cAAC4Q,GAAD,gCC/HHC,GAAUC,eAaRC,GAXH,kBACVjR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACgR,GAAA,EAAD,CAAQH,QAASA,IACf/Q,EAAAC,EAAAC,cAACgR,GAAA,EAAD,KACElR,EAAAC,EAAAC,cAACgR,GAAA,EAAD,CAAOC,KAAK,IAAI3P,UAAWuM,KAC3B/N,EAAAC,EAAAC,cAACgR,GAAA,EAAD,CAAOC,KAAK,0BAA0B3P,UAAWuM,SCArCqD,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,kEAiHA,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,eC3HjBC,IAAS9H,OACPjK,EAAAC,EAAAC,cAAC8R,EAAA,EAAD,CAAUpU,MAAOA,GACfoC,EAAAC,EAAAC,cAAC+R,GAAD,OAEFC,SAASC,eAAe","file":"static/js/main.9845662a.chunk.js","sourcesContent":["import { createStore } from 'redux';\n\nconst initialState = {\n  editor_graph: {},\n  d3_graph: { nodes: [], edges: [] },\n  states_language_graph: {},\n};\n\nfunction updateState(state, action) {\n  let new_state = { ...state };\n  switch (action.type) {\n    case 'SET_EDITOR_GRAPH':\n      new_state.editor_graph = action.graph;\n      break;\n    case 'SET_D3_GRAPH':\n      new_state.d3_graph = action.graph;\n      break;\n    case 'SET_STATES_LANGUAGE_GRAPH':\n      new_state.states_language_graph = action.graph;\n      break;\n    default:\n      break;\n  }\n  return new_state;\n}\n\nlet store = createStore(updateState, initialState);\n\nexport default store;\n","import React from 'react';\nimport { Node, Socket, Control } from 'rete-react-render-plugin';\n\nexport class MyNode extends Node {\n  render() {\n    const { node, bindSocket, bindControl } = this.props;\n    const { outputs, controls, inputs, selected } = this.state;\n    return (\n      <div className={`node ${selected} ${node.name}`}>\n        <div className=\"title\">{node.name}</div>\n        {/* Inputs */}\n        {inputs.map(input => (\n          <div className=\"input\" key={input.key}>\n            <Socket\n              type=\"input\"\n              socket={input.socket}\n              io={input}\n              innerRef={bindSocket}\n            />\n            {!input.showControl() && (\n              <div className=\"input-title\">{input.name}</div>\n            )}\n            {input.showControl() && (\n              <Control\n                className=\"input-control\"\n                control={input.control}\n                innerRef={bindControl}\n              />\n            )}\n          </div>\n        ))}\n        {/* Controls */}\n        {controls.map(control => (\n          <Control\n            className=\"control\"\n            key={control.key}\n            control={control}\n            innerRef={bindControl}\n          />\n        ))}\n        {/* Outputs */}\n        {outputs.map(output => (\n          <div className=\"output\" key={output.key}>\n            <div className=\"output-title\">{output.name}</div>\n            <Socket\n              type=\"output\"\n              socket={output.socket}\n              io={output}\n              innerRef={bindSocket}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Rete from 'rete';\n\nexport class MyControl extends Rete.Control {\n  static component = ({ value, onChange, placeholder }) => (\n    <input\n      value={value}\n      placeholder={placeholder}\n      ref={ref => {\n        ref && ref.addEventListener('pointerdown', e => e.stopPropagation());\n      }}\n      onChange={e => onChange(e.target.value)}\n    />\n  );\n\n  constructor(emitter, key, node, readonly = false) {\n    super(key);\n    this.emitter = emitter;\n    this.key = key;\n    this.component = MyControl.component;\n\n    const initial = node.data[key] || '';\n\n    node.data[key] = initial;\n    this.props = {\n      readonly,\n      value: initial,\n      onChange: v => {\n        this.setValue(v);\n        this.emitter.trigger('process');\n      },\n      placeholder: key\n    };\n  }\n\n  setValue(val) {\n    this.props.value = val;\n    this.putData(this.key, val);\n    this.update();\n  }\n}\n","const to_states_language = (nodes, edges) => {\n  return nodes.reduce((acc, node) => {\n    let next = get_transition_event(node, edges);\n    let t_e = next ? next.type.join(',') : '';\n    let choices = get_choices(node, edges).map(choice => ({\n      StringEquals: choice.type,\n      Next: choice.target.data.name,\n    }));\n    let catches = get_catches(node, edges).map(cat => ({\n      ErrorEquals: cat.type,\n      Next: cat.target.data.name,\n    }));\n\n    acc[node.data.name] = {\n      Type: node.name,\n      Resource: node.data.resource,\n      TransitionEvent: t_e,\n      Choices: choices,\n      Catch: catches,\n      Next: next ? next.target.data.name : '',\n    };\n    return acc;\n  }, {});\n};\n\nconst get_catches = (node, edges) =>\n  edges.filter(edge => is_catch_event(edge, node));\n\nconst is_catch_event = (edge, node) =>\n  edge.source.data.name === node.data.name && edge.source.outputs.catch_events;\n\nconst get_choices = (node, edges) =>\n  edges.filter(edge => is_choice_event(edge, node));\n\nconst is_choice_event = (edge, node) =>\n  edge.source.data.name === node.data.name && edge.source.outputs.choice_events;\n\nconst get_transition_event = (node, edges) =>\n  edges.find(edge => is_trans_event(edge, node));\n\nconst is_trans_event = (edge, node) =>\n  edge.source.data.name === node.data.name &&\n  edge.source.outputs.transition_event;\n\nconst graph_list = graph =>\n  Object.keys(graph.nodes).map(key => graph.nodes[key]);\n\nconst graph_states = graph_list =>\n  graph_list.filter(node => !node.name.endsWith('Event'));\n\nconst graph_edges = (graph_states, graph) =>\n  graph_states.flatMap(node => get_node_edges(node, graph));\n\nconst to_d3_nodes = (state_nodes, i = 0) =>\n  state_nodes.map(node => {\n    return { id: i++, label: node.name, name: node.data.name };\n  });\n\nconst get_node_edges = (node, graph, nodes) =>\n  Object.keys(node.outputs).flatMap(key =>\n    get_node_outputs(key, node, graph, nodes)\n  );\n\nconst to_d3_edges = (graph_edges, nodes) =>\n  graph_edges.map(edge => {\n    let target = get_node_index(edge.target.data.name, nodes);\n    let source = get_node_index(edge.source.data.name, nodes);\n    return {\n      source: source,\n      target: target,\n      type: edge.type,\n    };\n  });\n\nexport function editor_states_language(graph) {\n  let n = graph_list(graph);\n  let state_nodes = graph_states(n);\n  let state_edges = graph_edges(state_nodes, graph);\n  return {\n    StartAt: 'Test',\n    States: to_states_language(state_nodes, state_edges),\n  };\n}\n\nexport function editor_d3(graph) {\n  let n = graph_list(graph);\n  let state_nodes = graph_states(n);\n  let nodes = to_d3_nodes(state_nodes);\n  let state_edges = graph_edges(state_nodes, graph);\n  let edges = to_d3_edges(state_edges, nodes);\n  return { nodes: nodes, edges: edges };\n}\n\nfunction get_node_outputs(key, node, graph) {\n  let conns = node.outputs[key].connections;\n  return conns.reduce((acc, c) => {\n    let event = graph.nodes[c.node.toString()];\n    if (event.outputs.next.connections.length > 0) {\n      let target_id = event.outputs.next.connections[0].node.toString();\n      let target = graph.nodes[target_id];\n      acc.push({\n        source: node,\n        target: target,\n        type: get_event_name(event),\n      });\n    }\n    return acc;\n  }, []);\n}\n\nfunction get_event_name(event) {\n  var name = '';\n  if (event.data.errors) {\n    name = event.data.errors;\n  } else if (event.data.event) {\n    name = event.data.event;\n  } else if (event.data.events) {\n    name = event.data.events;\n  }\n\n  return name.split(',').map(n => n.trim());\n}\n\nfunction get_node_index(name, nodes) {\n  return nodes.findIndex(n => n.name === name);\n}\n","const SET_D3_GRAPH = 'SET_D3_GRAPH';\nconst SET_EDITOR_GRAPH = 'SET_EDITOR_GRAPH';\nconst SET_STATES_LANGUAGE_GRAPH = 'SET_STATES_LANGUAGE_GRAPH';\n\nexport function doSetD3Graph(graph) {\n  return { type: SET_D3_GRAPH, graph: graph };\n}\n\nexport function doSetEditorGraph(graph) {\n  return { type: SET_EDITOR_GRAPH, graph: graph };\n}\n\nexport function doSetStatesLanguageGraph(graph) {\n  return { type: SET_STATES_LANGUAGE_GRAPH, graph: graph };\n}\n","import Rete from 'rete';\nimport ReactRenderPlugin from 'rete-react-render-plugin';\nimport ConnectionPlugin from 'rete-connection-plugin';\nimport ContextMenuPlugin from 'rete-context-menu-plugin';\nimport AreaPlugin from 'rete-area-plugin';\nimport MinimapPlugin from 'rete-minimap-plugin';\nimport { MyNode } from './Node';\nimport { MyControl } from './Control';\nimport graph from './test.json';\nimport { editor_d3, editor_states_language } from './parser';\nimport { doSetD3Graph, doSetStatesLanguageGraph } from './actions';\nimport store from './store';\n\nvar transition_socket = new Rete.Socket('Transition Event');\nvar catch_socket = new Rete.Socket('Catch Event');\nvar choice_socket = new Rete.Socket('Choice Event');\nvar next_socket = new Rete.Socket('Next');\n\nclass TaskComponent extends Rete.Component {\n  constructor() {\n    super('Task');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('start', 'Start', next_socket, true);\n    var te = new Rete.Output(\n      'transition_event',\n      'Transition Event',\n      transition_socket\n    );\n    var ce = new Rete.Output('catch_events', 'Catch Events', catch_socket);\n    var resource = new MyControl(this.editor, 'resource', node);\n    var name = new MyControl(this.editor, 'name', node);\n    return node\n      .addInput(inp)\n      .addOutput(te)\n      .addOutput(ce)\n      .addControl(name)\n      .addControl(resource);\n  }\n}\n\nclass ChoiceComponent extends Rete.Component {\n  constructor() {\n    super('Choice');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('start', 'Start', next_socket, true);\n    var ce = new Rete.Output('choice_events', 'Choice Events', choice_socket);\n    var cat_e = new Rete.Output('catch_events', 'Catch Events', catch_socket);\n    var resource = new MyControl(this.editor, 'resource', node);\n    var name = new MyControl(this.editor, 'name', node);\n    return node\n      .addInput(inp)\n      .addOutput(ce)\n      .addOutput(cat_e)\n      .addControl(name)\n      .addControl(resource);\n  }\n}\n\nclass TransitionEventComponent extends Rete.Component {\n  constructor() {\n    super('TransitionEvent');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('event', '=', transition_socket, true);\n    var out = new Rete.Output('next', 'Next', next_socket);\n    var ctrl = new MyControl(this.editor, 'event', node);\n    return node\n      .addInput(inp)\n      .addOutput(out)\n      .addControl(ctrl);\n  }\n}\n\nclass CatchEventComponent extends Rete.Component {\n  constructor() {\n    super('CatchEvent');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('event', '=', catch_socket, true);\n    var out = new Rete.Output('next', 'Next', next_socket);\n    var ctrl = new MyControl(this.editor, 'errors', node);\n    return node\n      .addInput(inp)\n      .addOutput(out)\n      .addControl(ctrl);\n  }\n}\n\nclass ChoiceEventComponent extends Rete.Component {\n  constructor() {\n    super('ChoiceEvent');\n  }\n\n  builder(node) {\n    var inp = new Rete.Input('event', '=', choice_socket);\n    var out = new Rete.Output('next', 'Next', next_socket);\n    var ctrl = new MyControl(this.editor, 'events', node);\n    return node\n      .addInput(inp)\n      .addOutput(out)\n      .addControl(ctrl);\n  }\n}\n\nexport default async function(container) {\n  var components = [\n    new TaskComponent(),\n    new ChoiceComponent(),\n    new ChoiceEventComponent(),\n    new CatchEventComponent(),\n    new TransitionEventComponent(),\n  ];\n\n  var editor = new Rete.NodeEditor('states-language@0.1.0', container);\n  editor.use(ConnectionPlugin);\n  editor.use(ReactRenderPlugin, { component: MyNode });\n  editor.use(ContextMenuPlugin);\n  editor.use(AreaPlugin);\n  editor.use(MinimapPlugin);\n\n  components.map(c => editor.register(c));\n  editor.on(\n    'process nodecreated noderemoved connectioncreated connectionremoved',\n    async () => {\n      console.log('| Process |');\n      let graph = editor.toJSON();\n      let d3_graph = editor_d3(graph);\n      let states_language_graph = editor_states_language(graph);\n      store.dispatch(doSetD3Graph(d3_graph));\n      store.dispatch(doSetStatesLanguageGraph(states_language_graph));\n    }\n  );\n\n  editor.fromJSON(graph);\n  editor.view.resize();\n  editor.trigger('process');\n  setTimeout(function() {\n    AreaPlugin.zoomAt(editor);\n  }, 200);\n}\n","import React, { useEffect } from 'react';\nimport * as dagreD3 from 'dagre-d3';\nimport * as d3 from 'd3';\n\nfunction DagreD3({ width, height, edges, nodes, onClick }) {\n  let nodeTree, nodeTreeGroup;\n\n  useEffect(() => {\n    let g = new dagreD3.graphlib.Graph({ multigraph: true }).setGraph({});\n    nodes.forEach(function(st) {\n      g.setNode(st.name, { label: st.name });\n    });\n    edges.forEach(link => {\n      let name =\n        nodes[link.source].name +\n        '-' +\n        nodes[link.target].name +\n        '-' +\n        link.type;\n      g.setEdge(\n        nodes[link.source].name,\n        nodes[link.target].name,\n        { label: link.type.join(',') },\n        name\n      );\n    });\n\n    g.nodes().forEach(function(v) {\n      var node = g.node(v);\n      node.rx = node.ry = 5;\n    });\n\n    // Set up an SVG group so that we can translate the final graph.\n    let svg = d3.select(nodeTree);\n    let inner = d3.select(nodeTreeGroup);\n\n    var zoom = d3.zoom().on('zoom', function() {\n      inner.attr('transform', d3.event.transform);\n    });\n    svg.call(zoom);\n\n    var render = new dagreD3.render();\n\n    render(inner, g);\n\n    var initialScale = 0.8;\n    svg.call(\n      zoom.transform,\n      d3.zoomIdentity\n        .translate((svg.attr('width') - g.graph().width * initialScale) / 2, 20)\n        .scale(initialScale)\n    );\n\n    svg.attr('height', g.graph().height * initialScale + 20);\n\n    svg.selectAll('.dagre-d3 .node').on('click', id => {\n      g.nodes().forEach(v => g.node(v).elem.classList.remove('selected'));\n      g.node(id).elem.classList.add('selected');\n    });\n  }, [edges, nodes, nodeTree, nodeTreeGroup, onClick]);\n\n  return (\n    <svg\n      className=\"dagre-d3\"\n      ref={r => (nodeTree = r)}\n      width={width}\n      height={height}\n    >\n      <g ref={r => (nodeTreeGroup = r)} />\n    </svg>\n  );\n}\n\nexport default DagreD3;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport DagreD3 from './DagreD3React';\n\nfunction Graph() {\n  const graph = useSelector(state => state.d3_graph);\n\n  return (\n    <div>\n      <DagreD3\n        edges={graph.edges}\n        nodes={graph.nodes}\n        width=\"300\"\n        height=\"100\"\n      />\n    </div>\n  );\n}\n\nexport default Graph;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nfunction JSONDisplay() {\n  const graph = useSelector(state => state.states_language_graph);\n  return <pre>{JSON.stringify(graph, null, 2)}</pre>;\n}\n\nexport default JSONDisplay;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport init from './editor';\nimport Graph from './Graph';\nimport JSONDisplay from './JSONDisplay';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  fixedHeight: {\n    height: '70vh',\n  },\n}));\n\nfunction Homepage() {\n  const classes = useStyles();\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"absolute\" className={clsx(classes.appBar)}>\n        <Toolbar className={classes.toolbar}>\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            States Language Editor\n          </Typography>\n          <IconButton color=\"inherit\"></IconButton>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        <Container maxWidth=\"xl\" className={classes.container}>\n          <Grid container spacing={3}>\n            <Grid item xs={12} md={8} lg={8}>\n              <Paper className={fixedHeightPaper}>\n                <div ref={el => init(el)} />\n              </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={4}>\n              <Paper className={fixedHeightPaper}>\n                <Graph />\n              </Paper>\n            </Grid>\n            <Grid item xs={12}>\n              <Paper className={classes.paper}>\n                <JSONDisplay />\n              </Paper>\n            </Grid>\n          </Grid>\n        </Container>\n      </main>\n    </div>\n  );\n}\n\nexport default Homepage;\n","import React from 'react';\nimport Homepage from './Homepage.js';\nimport { Switch, Route, Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();\n\nconst App = () => (\n  <div className=\"App\">\n    <Router history={history}>\n      <Switch>\n        <Route path=\"/\" component={Homepage} />\n        <Route path=\"/states-language-editor\" component={Homepage} />\n      </Switch>\n    </Router>\n  </div>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './styles.css';\n\nconst do_render = () =>\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n  );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\ndo_render();\n"],"sourceRoot":""}